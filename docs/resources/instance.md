---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "m3_instance Resource - terraform-provider-m3"
subcategory: ""
description: |-
  Creates instances of the specified configuration
---

# m3_instance (Resource)

Creates instances of the specified configuration

## Example Usage

```terraform
resource "m3_instance" "my-server" {
  image = "CentOS7_64-bit"
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
}

resource "m3_instance" "my-server" {
  image = "CentOS7_64-bit"
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  #  stop can be less then terminate
  #  max 720
  stop_after = 5
  #  max 720
  terminate_after = 6
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  #  stop can be less then terminate
  #  max 720
  stop_after = 5
  #  max 720
  terminate_after = 6
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  terminate_after = 6
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  terminate_after = 6
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  stop_after = 6
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  region = "COMPANY-OPENSTACK-3"
  tenant = "EPMC-EOOS"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  stop_after = 6
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = "CentOS7_64-bit"
  name  = "test"
  shape = "MINI"
  key = "sshkey"
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  #  stop can be less then terminate
  #  max 720
  stop_after = 5
  #  max 720
  terminate_after = 6
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  #  stop can be less then terminate
  #  max 720
  stop_after = 5
  #  max 720
  terminate_after = 6
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  terminate_after = 6
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  stop_after = 5
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  stop_after = 5
  lock_termination = true
}

resource "m3_instance" "my-server" {
  image = data.m3_data_image.dim.id
  name  = "test"
  shape = "MINI"
  key = "sshkey"
  #  max 720
  terminate_after = 6
  lock_termination = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `image` (String) The name of the image that will be used for the instance configuration.
- `name` (String) The name of the new instance.
- `shape` (String) Required if InstanceType is not specified. Instance shape is a Maestro name for a capacity configuration, mapped to InstanceType and corresponding attributes in other CPs. Some possible values: LARGE, MICRO, SMALL, etc.

### Optional

- `additional_data` (Map of String) The size of an additional storage volume in GB.
- `chef_profile` (String) The name of the chef application.
- `enable_chef` (Boolean) Enabling chef application.
- `instances_count` (Number) The number of instances that will be run. The default value is 1 (used if the parameter is not specified).
- `key` (String) The name of the key pair to be used for the instance. Optional for Azure cloud
- `lock_termination` (Boolean) Locking the instance from termination.
Allowed for clouds: [AWS, AZURE, GOOGLE].
- `owner` (String) Owner identifier.
- `region` (String) The name of the region where the instance is to be run.
- `stop_after` (Number) The expiration parameter which specifies when the machine will stop, in hours after creation.
- `tags` (Map of String) Key value parameter simplifying instance identification.
- `tenant` (String) The name of the tenant where the instance is to be launched.
- `terminate_after` (Number) Termination parameter which specifies when the instance will be terminated, in hours after creation.

### Read-Only

- `cloud` (String) The cloud. 
Allowed values: [AWS, AZURE, GOOGLE, NUTANIX, OPEN_STACK, VSPHERE, VMWARE, YANDEX].
- `id` (String) The ID of this resource.


